
```{python}
import pandas as pd
import plotly.graph_objects as go

combined_df = pd.read_csv('../data/combined_df.csv')

color_palette = ["#00c0a7","#44546a","#ff6c00","#f89da6","#ffac01"]

temp_precip_data = combined_df[combined_df['year'] >= 2018].groupby('year')[['Tmax_Summer', 'PPT_Summer']].mean().round(2).reset_index()

fig = go.Figure()

# Add traces for max summer temperature and summer precipitation
fig.add_trace(go.Scatter(x=temp_precip_data['year'], y=temp_precip_data['Tmax_Summer'], 
                         mode='lines+markers', name='Max Summer Temperature', 
                         line=dict(color=color_palette[4])))
fig.add_trace(go.Scatter(x=temp_precip_data['year'], y=temp_precip_data['PPT_Summer'], 
                         mode='lines+markers', name='Summer Precipitation', 
                         yaxis='y2', line=dict(color=color_palette[0])))

# Update layout with secondary y-axis for precipitation and legend
fig.update_layout(
    title='Max Summer Temperature and Precipitation Over Years (2018-2024)',
    xaxis=dict(title='Year'),
    yaxis=dict(title='Max Summer Temperature (Â°C)'),
    yaxis2=dict(title='Summer Precipitation (mm)', overlaying='y', side='right'),
    legend=dict(x=0.1, y=0.9)
)


```

